<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="data:," />
    <title>Nordic Digital Bank - Account Opening</title>
    <link rel="stylesheet" href="/shared/styles.css" />
    <link rel="stylesheet" href="styles.css" />
    <script
      src="https://cdn.jsdelivr.net/npm/qrcode-generator@1.4.4/qrcode.min.js"
      integrity="sha384-lQXOAyZwHXE55JFyrOMB7nY2Wv+m5ZWNtJcHrd1rceRQXAYNLak8ukN5TjBTcIwz"
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <header>
      <a href="../" class="logo"> ğŸ¦ Nordic Digital Bank </a>
    </header>

    <main class="container">
      <!-- Step 1: Welcome -->
      <section id="welcomeSection" class="card">
        <div class="hero">
          <h1>Open Your Account in Minutes</h1>
          <p>
            Experience the future of banking. With your EUDI Wallet, you can
            complete KYC verification instantly - no paperwork, no waiting.
          </p>
        </div>

        <div class="features">
          <div class="feature">
            <span class="feature-icon">âš¡</span>
            <div>
              <strong>Instant Verification</strong>
              <p>Complete identity verification in under 2 minutes</p>
            </div>
          </div>
          <div class="feature">
            <span class="feature-icon">ğŸ”’</span>
            <div>
              <strong>Bank-Grade Security</strong>
              <p>Your data is cryptographically verified</p>
            </div>
          </div>
          <div class="feature">
            <span class="feature-icon">ğŸŒ</span>
            <div>
              <strong>EU-Wide Acceptance</strong>
              <p>Valid across all 27 EU member states</p>
            </div>
          </div>
        </div>

        <button id="startBtn" class="btn btn-primary btn-large">
          Open an Account
        </button>
      </section>

      <!-- Step 2: Identity Verification -->
      <section id="verificationSection" class="card" style="display: none">
        <h2>ğŸ” Identity Verification</h2>
        <p class="verification-subtitle">
          To comply with KYC/AML regulations, we need to verify your identity
          using your EU Digital Identity Wallet.
        </p>

        <div class="verification-info">
          <h3>What we'll request:</h3>
          <ul class="data-list">
            <li><span class="data-icon">ğŸ‘¤</span> Full Name</li>
            <li><span class="data-icon">ğŸ“…</span> Date of Birth</li>
            <li><span class="data-icon">ğŸ </span> Address</li>
            <li><span class="data-icon">ğŸ†”</span> National ID Number</li>
            <li><span class="data-icon">ğŸ‡ªğŸ‡º</span> Nationality</li>
          </ul>
        </div>

        <div id="qrContainer" class="qr-container">
          <div id="qrCode" class="qr-code"></div>
          <div class="same-device-section">
            <span class="divider-text">or on this device</span>
            <div id="sameDeviceLink" class="hidden"></div>
          </div>
          <p id="statusText" class="status-text">
            Use your EUDI Wallet to verify
          </p>
        </div>

        <div class="privacy-note">
          <strong>ğŸ›¡ï¸ Your Privacy is Protected</strong>
          <p>
            Your data is transmitted directly from your wallet and verified
            cryptographically. We only store what's legally required for banking
            regulations.
          </p>
        </div>
      </section>

      <!-- Step 3: Success -->
      <section id="successSection" class="card" style="display: none">
        <div class="success-header">
          <span class="success-icon">âœ…</span>
          <h2>Identity Verified!</h2>
          <p>
            Your identity has been successfully verified. Your account is almost
            ready.
          </p>
        </div>

        <div class="verified-data">
          <h3>Verified Information</h3>
          <div id="verificationResults" class="results-grid">
            <!-- Will be populated by JS -->
          </div>
        </div>

        <div class="next-steps">
          <h3>What's Next?</h3>
          <div class="steps">
            <div class="step completed">
              <span class="step-number">1</span>
              <span class="step-text">Identity Verification âœ“</span>
            </div>
            <div class="step current">
              <span class="step-number">2</span>
              <span class="step-text">Choose Account Type</span>
            </div>
            <div class="step">
              <span class="step-number">3</span>
              <span class="step-text">Set Up Security</span>
            </div>
            <div class="step">
              <span class="step-number">4</span>
              <span class="step-text">Start Banking!</span>
            </div>
          </div>
        </div>

        <button id="continueBtn" class="btn btn-primary btn-large">
          Continue to Account Setup
        </button>
      </section>

      <!-- Error State -->
      <section id="errorSection" class="card error-card" style="display: none">
        <div class="error-content">
          <span class="error-icon">âš ï¸</span>
          <h2>Verification Failed</h2>
          <p id="errorMessage">Something went wrong during verification.</p>
          <button id="retryBtn" class="btn btn-primary">Try Again</button>
        </div>
      </section>
    </main>

    <footer>
      <p>
        Nordic Digital Bank Demo - Part of
        <a href="https://github.com/openwallet-foundation-labs/eudiplo"
          >EUDIPLO</a
        >
      </p>
      <p class="footer-note">
        This is a demonstration. No real banking services are provided.
      </p>
    </footer>

    <script src="/js/bank-onboarding/app.js"></script>
  </body>
</html>
